{"version":3,"sources":["../../app/reducers/reply.js"],"names":["handleReply","event","state","reply","getReply","toObject","timestamp","newHashrates","hashrates","stats","hashrateList","map","entry","hashrate","status","running","getStatus","getRunning","statistics","n_threads","nThreads","ping","poolAddress","slice"],"mappings":";;;;;;;;;;AAAA;;;;;;AAEA,SAASA,WAAT,CAAqBC,KAArB,EAA4BC,KAA5B,EAAmC;;AAE/B,QAAIC,QAAQF,MAAMG,QAAN,GAAiBC,QAAjB,EAAZ;AACA,QAAIC,YAAY,qBAAkBL,KAAlB,CAAhB;;AAEA,QAAIM,eACA;AACID,mBAAWA,SADf;AAEIE,mBAAWL,MAAMM,KAAN,CACNC,YADM,CAENC,GAFM,CAEF;AAAA,mBAASC,MAAMC,QAAf;AAAA,SAFE;AAFf,KADJ;;AAQA,WAAO;;AAEHC,gBAAQ;AACJC,qBAASd,MAAMe,SAAN,GAAkBC,UAAlB;AADL,SAFL;;AAMHC,oBAAY;AACRC,uBAAWhB,MAAMM,KAAN,CAAYW,QADf;AAERC,kBAAMlB,MAAMM,KAAN,CAAYY,IAFV;AAGRC,yBAAanB,MAAMM,KAAN,CAAYa;AAHjB,SANT;;AAYHd,mBAAW,2CACJN,MAAMM,SADF,IAEPD,YAFO,GAGTgB,KAHS,CAGH,CAAC,KAHE;AAZR,KAAP;AAiBH;;kBAGcvB,W","file":"reply.js","sourcesContent":["import timestamp_to_date from '../utils';\r\n\r\nfunction handleReply(event, state) {\r\n\r\n    let reply = event.getReply().toObject();\r\n    let timestamp = timestamp_to_date(event);\r\n\r\n    let newHashrates =\r\n        {\r\n            timestamp: timestamp,\r\n            hashrates: reply.stats\r\n                .hashrateList\r\n                .map(entry => entry.hashrate)\r\n        };\r\n\r\n    return {\r\n        \r\n        status: {\r\n            running: event.getStatus().getRunning()\r\n        },\r\n\r\n        statistics: {\r\n            n_threads: reply.stats.nThreads,\r\n            ping: reply.stats.ping,\r\n            poolAddress: reply.stats.poolAddress\r\n        },\r\n\r\n        hashrates: [\r\n            ...state.hashrates,\r\n            newHashrates\r\n        ].slice(-10000)\r\n    }\r\n}\r\n\r\n\r\nexport default handleReply;"]}