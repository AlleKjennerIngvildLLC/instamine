{"version":3,"sources":["../../app/components/Settings.js"],"names":["Settings","state","walletAddress","nThreads","enableGPU","handleSubmit","event","cpu_threads_conf","buildCpuConfig","config","setState","props","updateSettings","preventDefault","n","cpuSettings","range","map","i","settings","nCpus","cpus","length","backgroundSize","backgroundImage","color","background","padding","border","target","value","min","marginTop","height"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;IAEqBA,Q;;;;;;;;;;;;;;gNAGnBC,K,GAAQ;AACNC,qBAAe,EADT;AAENC,gBAAU,CAFJ;AAGNC,iBAAW;AAHL,K,QAWRC,Y,GAAe,UAACC,KAAD,EAAW;;AAExB,UAAIC,mBAAmB,MAAKC,cAAL,CAAoB,MAAKP,KAAL,CAAWE,QAA/B,CAAvB;AACA,UAAIM,SAAS,sBAAmBF,gBAAnB,EAAqC,MAAKN,KAAL,CAAWC,aAAhD,CAAb;;AAEA,YAAKQ,QAAL,CAAc,EAAED,QAAQA,MAAV,EAAd,EAAkC,YAAM;AACtC,cAAKE,KAAL,CAAWC,cAAX,CAA0B,MAAKX,KAA/B;AACD,OAFD;;AAIAK,YAAMO,cAAN;AACD,K,QAGDL,c,GAAiB,UAACM,CAAD,EAAO;AACtB,UAAIC,cAAc,iBAAEC,KAAF,CAAQF,CAAR,EAAWG,GAAX,CAAe,aAAK;AACpC,eAAO;AACL,4BAAkB,KADb;AAEL,yBAAe,IAFV;AAGL,2BAAiBC;AAHZ,SAAP;AAMD,OAPiB,CAAlB;;AASA,aAAOH,WAAP;AACD,K;;;;;yCA7BoB;AACnB,WAAKL,QAAL,CAAc,KAAKC,KAAL,CAAWQ,QAAzB;AACD;;;6BA6BQ;AAAA;;AAEP,UAAIC,QAAQ,aAAGC,IAAH,GAAUC,MAAtB;;AAFO,UAICrB,KAJD,GAIW,IAJX,CAICA,KAJD;;;AAMP,aACE;AAAA;AAAA,UAAK,WAAU,YAAf;AAEE;AAAA;AAAA;AACE,gBAAG,KADL;AAEE,uBAAU,MAFZ;AAGE,sBAHF;AAIE,oBAAQ,IAJV;AAKE,mBAAM,QALR;AAME,qBAAQ,QANV;AAOE,mBAAO;AACLsB,8BAAgB,OADX;AAELC,+BAAiB;AAFZ,aAPT;AAYE;AAAA;AAAA;AAEE;AAAA;AAAA,gBAAS,UAAU,EAAnB,EAAuB,OAAO,EAAEC,OAAO,OAAT,EAA9B;AAAA;AAAA;AAFF,WAZF;AAiBE;AAAA;AAAA;AACE;AAAA;AAAA,gBAAK,OAAM,OAAX;AACE;AAAA;AAAA;AACE,yBAAO;AACLC,gCAAY,SADP;AAELC,6BAAS,qBAFJ;AAGLC,4BAAQ;AAHH,mBADT;AAME;AAAA;AAAA,oBAAM,UAAU,KAAKvB,YAArB;AAEE;AAAA;AAAA,sBAAK,WAAU,KAAf;AACE;AAAA;AAAA,wBAAK,WAAU,WAAf;AAEE;AAAA;AAAA,0BAAK,WAAU,YAAf;AACE;AAAA;AAAA;AAAA;AAAA,yBADF;AAEE;AACE,iCAAO;AACLqB,wCAAY,OADP;AAELE,oCAAQ;AAFH,2BADT;AAKE,oCAAU,kBAACtB,KAAD;AAAA,mCAAW,OAAKI,QAAL,CAAc,EAAER,eAAeI,MAAMuB,MAAN,CAAaC,KAA9B,EAAd,CAAX;AAAA,2BALZ;AAME,iCAAO7B,MAAMC,aANf;AAOE,gCAAK,MAPP;AAQE,qCAAU,cARZ;AASE,uCAAY,EATd;AAFF;AAFF;AADF,mBAFF;AAuBE;AAAA;AAAA,sBAAK,WAAU,KAAf;AACE;AAAA;AAAA,wBAAK,WAAU,WAAf;AACE;AAAA;AAAA,0BAAK,WAAU,YAAf;AACE;AAAA;AAAA;AAAA;AAAA,yBADF;AAEE;AACE,iCAAO;AACLwB,wCAAY,OADP;AAELE,oCAAQ;AAFH,2BADT;AAKE,oCAAU,kBAACtB,KAAD,EAAW;AACnB,gCAAIe,OAAOf,MAAMuB,MAAN,CAAaC,KAAxB;AACAT,mCAAO,iBAAEU,GAAF,CAAM,CAACX,KAAD,EAAQC,IAAR,CAAN,CAAP;AACA,mCAAKX,QAAL,CAAc,EAAEP,UAAUkB,IAAZ,EAAd;AACD,2BATH;AAUE,iCAAOpB,MAAME,QAVf;AAWE,gCAAK,QAXP;AAYE,+BAAI,GAZN;AAaE,oCAAQiB,KAbV;AAcE,qCAAU,cAdZ;AAeE,uCAAY,EAfd;AAFF;AADF;AADF,mBAvBF;AA+CE;AAAA;AAAA,sBAAK,WAAU,UAAf;AACE;AAAA;AAAA,wBAAS,MAAK,oBAAd;AACE;AAAA;AAAA;AACE,iEAAO,cAAP,EAAgB,MAAK,UAArB,GADF;AAAA;AAAA;AADF;AADF,mBA/CF;AAuDE;AAAA;AAAA,sBAAK,WAAU,cAAf;AACE;AAAA;AAAA,wBAAQ,MAAK,QAAb,EAAsB,WAAU,0BAAhC;AAAA;AAAA;AADF;AAvDF;AANF;AADF;AADF,WAjBF;AAyFE;AAAA;AAAA;AACE;AAAA;AAAA;AACE;;AAEE,uBAAO;AACLY,6BAAW,OADN;AAELC,0BAAQ;AAFH,iBAFT;AAME,qBAAI;AANN;AADF;AADF;AAzFF;AAFF,OADF;AA8GD;;;;;kBA5JkBjC,Q","file":"Settings.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Flex, Box, Heading, Input, Switch, Tooltip, Image } from 'rebass';\r\nimport buildConfiguration from '../config.js';\r\nimport os from 'os';\r\nimport _ from 'lodash';\r\n\r\nexport default class Settings extends Component {\r\n\r\n\r\n  state = {\r\n    walletAddress: '',\r\n    nThreads: 1,\r\n    enableGPU: false\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.setState(this.props.settings);\r\n  }\r\n\r\n\r\n  handleSubmit = (event) => {\r\n\r\n    let cpu_threads_conf = this.buildCpuConfig(this.state.nThreads);\r\n    let config = buildConfiguration(cpu_threads_conf, this.state.walletAddress);\r\n\r\n    this.setState({ config: config }, () => {\r\n      this.props.updateSettings(this.state);\r\n    });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n\r\n  buildCpuConfig = (n) => {\r\n    let cpuSettings = _.range(n).map(i => {\r\n      return {\r\n        'low_power_mode': false,\r\n        'no_prefetch': true,\r\n        'affine_to_cpu': i\r\n      };\r\n\r\n    });\r\n\r\n    return cpuSettings;\r\n  }\r\n\r\n  render() {\r\n\r\n    let nCpus = os.cpus().length;\r\n\r\n    const { state } = this;\r\n\r\n    return (\r\n      <div className=\"pane-group\">\r\n\r\n        <Flex\r\n          is=\"div\"\r\n          className=\"pane\"\r\n          wrap\r\n          column={true}\r\n          align=\"center\"\r\n          justify=\"center\"\r\n          style={{\r\n            backgroundSize: 'cover',\r\n            backgroundImage: 'url(\"http://repositrak.com/wp-content/uploads/2015/09/RT-APPLICATION-BACKGROUND-01-04-1184x662.png\")'\r\n          }}>\r\n\r\n          <Flex>\r\n\r\n            <Heading fontSize={24} style={{ color: 'white' }}>Monero (XMR) Settings </Heading>\r\n          </Flex>\r\n\r\n          <Flex>\r\n            <Box width=\"400px\">\r\n              <div\r\n                style={{\r\n                  background: '#f5f5f4',\r\n                  padding: '15px 15px 15px 15px',\r\n                  border: '1px solid #c2c0c2'\r\n                }}>\r\n                <form onSubmit={this.handleSubmit}>\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"col-xs-12\">\r\n\r\n                      <div className=\"form-group\">\r\n                        <label>Wallet address</label>\r\n                        <Input\r\n                          style={{\r\n                            background: 'white',\r\n                            border: '1px solid #c2c0c2'\r\n                          }}\r\n                          onChange={(event) => this.setState({ walletAddress: event.target.value })}\r\n                          value={state.walletAddress}\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"col-xs-12\">\r\n                      <div className=\"form-group\">\r\n                        <label>Threads</label>\r\n                        <Input\r\n                          style={{\r\n                            background: 'white',\r\n                            border: '1px solid #c2c0c2'\r\n                          }}\r\n                          onChange={(event) => {\r\n                            let cpus = event.target.value;\r\n                            cpus = _.min([nCpus, cpus]);\r\n                            this.setState({ nThreads: cpus });\r\n                          }}\r\n                          value={state.nThreads}\r\n                          type=\"number\"\r\n                          min=\"1\"\r\n                          max={`${nCpus}`}\r\n                          className=\"form-control\"\r\n                          placeholder=\"\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"checkbox\">\r\n                    <Tooltip text=\"Not yet supported.\">\r\n                      <label>\r\n                        <input disabled type=\"checkbox\" /> Enable GPU\r\n                      </label>\r\n                    </Tooltip>\r\n                  </div>\r\n\r\n                  <div className=\"form-actions\">\r\n                    <button type=\"submit\" className=\"btn btn-form btn-primary\">Save</button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </Box>\r\n          </Flex>\r\n\r\n\r\n          <Flex>\r\n            <Box>\r\n              <Image\r\n              \r\n                style={{\r\n                  marginTop: \"-50px\",\r\n                  height: '200px'\r\n                }}\r\n                src='./banner.png'\r\n              />\r\n            </Box>\r\n          </Flex>\r\n\r\n        </Flex>\r\n\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n"]}