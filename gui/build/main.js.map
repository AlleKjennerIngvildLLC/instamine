{"version":3,"sources":["../app/main.js"],"names":["isDevelopment","process","env","NODE_ENV","mainWindow","forceQuit","installExtensions","installer","require","extensions","forceDownload","UPGRADE_EXTENSIONS","name","default","console","log","message","start","productName","companyName","submitURL","uploadToServer","on","platform","quit","width","height","minWidth","minHeight","resizable","show","frame","loadURL","format","pathname","join","__dirname","protocol","slashes","webContents","once","e","preventDefault","hide","openDevTools","props","buildFromTemplate","label","click","inspectElement","x","y","popup"],"mappings":"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","file":"main.js","sourcesContent":["import path from 'path';\r\nimport url from 'url';\r\nimport {app, crashReporter, BrowserWindow, Menu} from 'electron';\r\n\r\nconst isDevelopment = (process.env.NODE_ENV === 'development');\r\n\r\nlet mainWindow = null;\r\nlet forceQuit = false;\r\n\r\nconst installExtensions = async () => {\r\n  const installer = require('electron-devtools-installer');\r\n  const extensions = [\r\n    'REACT_DEVELOPER_TOOLS',\r\n    'REDUX_DEVTOOLS'\r\n  ];\r\n  const forceDownload = !!process.env.UPGRADE_EXTENSIONS;\r\n  for (const name of extensions) {\r\n    try {\r\n      await installer.default(installer[name], forceDownload);\r\n    } catch (e) {\r\n      console.log(`Error installing ${name} extension: ${e.message}`);\r\n    }\r\n  }\r\n};\r\n\r\ncrashReporter.start({\r\n  productName: 'Instamine',\r\n  companyName: 'Alle Kjenner Ingvild LLC',\r\n  submitURL: 'https://crash.instamine.net/report',\r\n  uploadToServer: false\r\n});\r\n\r\napp.on('window-all-closed', () => {\r\n  // On OS X it is common for applications and their menu bar\r\n  // to stay active until the user quits explicitly with Cmd + Q\r\n  if (process.platform !== 'darwin') {\r\n    app.quit();\r\n  }\r\n});\r\n\r\napp.on('ready', async () => {\r\n  if (isDevelopment) {\r\n    await installExtensions();\r\n  }\r\n\r\n  mainWindow = new BrowserWindow({ \r\n    width: 1000, \r\n    height: 800,\r\n    minWidth: 640,\r\n    minHeight: 480,\r\n    resizable: false,\r\n    show: false,\r\n    frame: false\r\n  });\r\n\r\n  mainWindow.loadURL(url.format({\r\n    pathname: path.join(__dirname, 'index.html'),\r\n    protocol: 'file:',\r\n    slashes: true\r\n  }));\r\n\r\n  // show window once on first load\r\n  mainWindow.webContents.once('did-finish-load', () => {\r\n    mainWindow.show();\r\n  });\r\n\r\n  mainWindow.webContents.on('did-finish-load', () => {\r\n    // Handle window logic properly on macOS:\r\n    // 1. App should not terminate if window has been closed\r\n    // 2. Click on icon in dock should re-open the window\r\n    // 3. âŒ˜+Q should close the window and quit the app\r\n    if (process.platform === 'darwin') {\r\n      mainWindow.on('close', function (e) {\r\n        if (!forceQuit) {\r\n          e.preventDefault();\r\n          mainWindow.hide();\r\n        }\r\n      });\r\n\r\n      app.on('activate', () => {\r\n        mainWindow.show();\r\n      });\r\n      \r\n      app.on('before-quit', () => {\r\n        forceQuit = true;\r\n      });\r\n    } else {\r\n      mainWindow.on('closed', () => {\r\n        mainWindow = null;\r\n      });\r\n    }\r\n  });\r\n\r\n  // mainWindow.webContents.openDevTools();\r\n\r\n  if (isDevelopment) {\r\n    // auto-open dev tools\r\n    mainWindow.webContents.openDevTools();\r\n\r\n    // add inspect element on right click menu\r\n    mainWindow.webContents.on('context-menu', (e, props) => {\r\n      Menu.buildFromTemplate([{\r\n        label: 'Inspect element',\r\n        click() {\r\n          mainWindow.inspectElement(props.x, props.y);\r\n        }\r\n      }]).popup(mainWindow);\r\n    });\r\n  }\r\n});\r\n"]}